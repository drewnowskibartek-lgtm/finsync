import{r,u as b,j as a,B as y,T as e,C as x,b as u,c as w,d as f,S as v,h}from"./index-BWONGnEN.js";import{u as C}from"./useSubscription-ClKgoe6k.js";import{G as n}from"./Grid-BBssZsKo.js";const z=()=>{const[m,j]=r.useState([]),[s,o]=r.useState(""),{data:p}=C(),{user:i}=b(),c=async()=>{const t=await h.get("/categories");j(t.data)};r.useEffect(()=>{c()},[]);const g=async()=>{s&&(await h.post("/categories",{nazwa:s}),o(""),c())},d=i?.rola==="ADMIN"||i?.rola==="USER",l=p?.plan==="PRO";return a.jsxs(y,{children:[a.jsx(e,{variant:"h2",mb:2,children:"Kategorie"}),a.jsx(x,{sx:{mb:2},children:a.jsxs(u,{children:[a.jsxs(n,{container:!0,spacing:2,children:[a.jsx(n,{item:!0,xs:12,md:8,children:a.jsx(w,{label:"Nazwa kategorii",fullWidth:!0,value:s,onChange:t=>o(t.target.value)})}),a.jsx(n,{item:!0,xs:12,md:4,children:a.jsx(f,{variant:"contained",fullWidth:!0,disabled:!l||!d,onClick:g,children:"Dodaj (Pro)"})})]}),!l&&a.jsx(e,{variant:"body2",color:"text.secondary",mt:1,children:"Własne kategorie są dostępne tylko w planie Pro."}),!d&&a.jsx(e,{variant:"body2",color:"text.secondary",mt:1,children:"Konto Viewer nie może dodawać kategorii."})]})}),a.jsx(v,{spacing:1,children:m.map(t=>a.jsx(x,{children:a.jsx(u,{children:a.jsxs(e,{variant:"body1",children:[t.nazwa," ",t.globalna?"(globalna)":""]})})},t.id))})]})};export{z as Categories};
