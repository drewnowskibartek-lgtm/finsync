import{u,a as x,r as j,j as e,B as b,C as y,b as v,S as n,l as S,T as a,c as l,d as f,L as w}from"./index-BWONGnEN.js";import{u as T,t as k,o as z,s as c}from"./zod-BrYbFVtE.js";const C=z({email:c().email("Podaj poprawny adres e-mail."),haslo:c().min(6,"Hasło musi mieć co najmniej 6 znaków.")}),B=()=>{const{login:m}=u(),d=x(),[r,t]=j.useState(null),{register:i,handleSubmit:h,formState:s}=T({resolver:k(C)}),g=async o=>{t(null);try{await m(o.email,o.haslo),d("/app/dashboard")}catch(p){t(p?.response?.data?.message??"Nie udało się zalogować.")}};return e.jsx(b,{sx:{minHeight:"100vh",display:"grid",placeItems:"center",background:"linear-gradient(135deg, rgba(21,101,192,0.12), rgba(46,214,161,0.18))",p:2},children:e.jsx(y,{sx:{maxWidth:420,width:"100%",p:1},children:e.jsxs(v,{children:[e.jsxs(n,{spacing:2,alignItems:"center",children:[e.jsx("img",{src:S,alt:"FinSync",style:{width:64,height:64}}),e.jsx(a,{variant:"h4",fontWeight:700,children:"Zaloguj się"})]}),e.jsxs(n,{spacing:2,mt:3,component:"form",onSubmit:h(g),children:[e.jsx(l,{label:"E-mail",fullWidth:!0,...i("email"),error:!!s.errors.email,helperText:s.errors.email?.message}),e.jsx(l,{label:"Hasło",type:"password",fullWidth:!0,...i("haslo"),error:!!s.errors.haslo,helperText:s.errors.haslo?.message}),r&&e.jsx(a,{color:"error",variant:"body2",children:r}),e.jsx(f,{variant:"contained",type:"submit",size:"large",children:"Zaloguj się"}),e.jsxs(a,{variant:"body2",align:"center",children:["Nie masz konta? ",e.jsx(w,{to:"/register",children:"Zarejestruj się"})]})]})]})})})};export{B as Login};
