import{u,a as x,r as j,j as e,B as b,C as y,b as v,S as n,l as w,T as r,c as l,d as S,L as f}from"./index-BWONGnEN.js";import{u as T,t as k,o as z,s as c}from"./zod-BrYbFVtE.js";const C=z({email:c().email("Podaj poprawny adres e-mail."),haslo:c().min(6,"Hasło musi mieć co najmniej 6 znaków.")}),B=()=>{const{register:m}=u(),d=x(),[a,t]=j.useState(null),{register:i,handleSubmit:h,formState:s}=T({resolver:k(C)}),g=async o=>{t(null);try{await m(o.email,o.haslo),d("/app/dashboard")}catch(p){t(p?.response?.data?.message??"Nie udało się zarejestrować.")}};return e.jsx(b,{sx:{minHeight:"100vh",display:"grid",placeItems:"center",background:"linear-gradient(135deg, rgba(10,37,64,0.08), rgba(46,214,161,0.2))",p:2},children:e.jsx(y,{sx:{maxWidth:420,width:"100%",p:1},children:e.jsxs(v,{children:[e.jsxs(n,{spacing:2,alignItems:"center",children:[e.jsx("img",{src:w,alt:"FinSync",style:{width:64,height:64}}),e.jsx(r,{variant:"h4",fontWeight:700,children:"Rejestracja"})]}),e.jsxs(n,{spacing:2,mt:3,component:"form",onSubmit:h(g),children:[e.jsx(l,{label:"E-mail",fullWidth:!0,...i("email"),error:!!s.errors.email,helperText:s.errors.email?.message}),e.jsx(l,{label:"Hasło",type:"password",fullWidth:!0,...i("haslo"),error:!!s.errors.haslo,helperText:s.errors.haslo?.message}),a&&e.jsx(r,{color:"error",variant:"body2",children:a}),e.jsx(S,{variant:"contained",type:"submit",size:"large",children:"Utwórz konto"}),e.jsxs(r,{variant:"body2",align:"center",children:["Masz konto? ",e.jsx(f,{to:"/login",children:"Zaloguj się"})]})]})]})})})};export{B as Register};
